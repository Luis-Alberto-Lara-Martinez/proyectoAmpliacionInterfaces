<app-menu></app-menu>
<app-scroll-to-top></app-scroll-to-top>

<div class="carrito-container">
  <h1>Carrito</h1>

  <!-- Carrito -->

  <div class="row">
    <div *ngFor="let producto of carrito" class="col-12 col-sm-6 col-lg-4 col-xl-3 carrito-card">
      <article class="card h-100" tabindex="0">
        <div class="bg-light border-bottom">
          <img [src]="producto.listaImagenes[0]" class="img-fluid" style="object-fit: cover;" [alt]="producto.nombre">
        </div>
        <div class="card-body d-flex flex-column gap-2">
          <h2 class="card-title h6 mb-1">{{ producto.nombre }}</h2>
          <p class="card-text text-body-secondary mb-1 small">{{ producto.descripcion }}</p>
          <div class="fw-semibold mb-2">{{ producto.precio }}â‚¬</div>
          <div class="d-flex gap-2 mt-auto">
            <button type="button" class="btn btn-primary btn-sm" (click)="eliminarDelCarrito(producto.id)">Eliminar</button>
            <input type="number" class="form-control form-control-sm w-25" min="1" [value]="producto.cantidad || 1" (input)="actualizarCantidad(producto, $event)">
          </div>
        </div>
      </article>
    </div>
  </div>

  <!-- Mensaje si no hay favoritos -->
  <!-- <div *ngIf="(carro).length === 0" class="carro-empty">
    <p>No tienes productos en tu carrito</p>
  </div> -->
  <p class="form-control-static">SUBPRECIO: {{(precioTotal*0.79).toFixed(2)}}</p>
  <p class="form-control-static">PRECIO CON IVA: {{precioTotal}}</p>
</div>
<!-- <p>TOTAL</p> -->
<app-paypal-button [totalCompra]="precioTotal"></app-paypal-button>
<app-pie-pagina></app-pie-pagina>